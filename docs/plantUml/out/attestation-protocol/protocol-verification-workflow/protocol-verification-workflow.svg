<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1526px" preserveAspectRatio="none" style="width:793px;height:1526px;" version="1.1" viewBox="0 0 793 1526" width="793px" zoomAndPan="magnify"><defs><filter height="300%" id="f1usstaiw3khaw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1usstaiw3khaw)" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="177" x="81" y="356.9727"/><rect fill="#FFFFFF" filter="url(#f1usstaiw3khaw)" height="875.4531" style="stroke: #000000; stroke-width: 2.0;" width="720.5" x="51" y="568.5254"/><rect fill="#FFFFFF" filter="url(#f1usstaiw3khaw)" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="140" x="81" y="650.457"/><rect fill="#FFFFFF" filter="url(#f1usstaiw3khaw)" height="365.1055" style="stroke: #000000; stroke-width: 2.0;" width="637.5" x="61" y="724.0781"/><rect fill="#FFFFFF" height="305.4844" style="stroke: none; stroke-width: 1.0;" width="637.5" x="61" y="783.6992"/><rect fill="#FFFFFF" filter="url(#f1usstaiw3khaw)" height="247.1738" style="stroke: #000000; stroke-width: 2.0;" width="617.5" x="71" y="792.6992"/><rect fill="#FFFFFF" filter="url(#f1usstaiw3khaw)" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="140" x="81" y="930.9414"/><rect fill="#FFFFFF" filter="url(#f1usstaiw3khaw)" height="219.8633" style="stroke: #000000; stroke-width: 2.0;" width="300" x="71" y="1145.4941"/><rect fill="#FFFFFF" height="75.6211" style="stroke: none; stroke-width: 1.0;" width="300" x="71" y="1289.7363"/><rect fill="#FFFFFF" filter="url(#f1usstaiw3khaw)" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="280" x="81" y="1298.7363"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="125" y1="38.4883" y2="136.4199"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="125" x2="125" y1="136.4199" y2="164.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="125" y1="164.4199" y2="1485.9785"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="432.5" x2="432.5" y1="38.4883" y2="136.4199"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="432.5" x2="432.5" y1="136.4199" y2="164.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="432.5" x2="432.5" y1="164.4199" y2="1485.9785"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="594.5" x2="594.5" y1="38.4883" y2="136.4199"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="594.5" x2="594.5" y1="136.4199" y2="164.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="594.5" x2="594.5" y1="164.4199" y2="1485.9785"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="724.5" x2="724.5" y1="38.4883" y2="136.4199"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="724.5" x2="724.5" y1="136.4199" y2="164.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="724.5" x2="724.5" y1="164.4199" y2="1485.9785"/><rect fill="#FEFECE" filter="url(#f1usstaiw3khaw)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="91" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="98" y="23.5352">Verifier</text><rect fill="#FEFECE" filter="url(#f1usstaiw3khaw)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="91" y="1484.9785"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="98" y="1505.5137">Verifier</text><rect fill="#FEFECE" filter="url(#f1usstaiw3khaw)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="365.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="372.5" y="23.5352">Attested Account</text><rect fill="#FEFECE" filter="url(#f1usstaiw3khaw)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="365.5" y="1484.9785"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="372.5" y="1505.5137">Attested Account</text><rect fill="#FEFECE" filter="url(#f1usstaiw3khaw)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="510.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="517.5" y="23.5352">New Attested Account</text><rect fill="#FEFECE" filter="url(#f1usstaiw3khaw)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="510.5" y="1484.9785"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="517.5" y="1505.5137">New Attested Account</text><rect fill="#FEFECE" filter="url(#f1usstaiw3khaw)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="688.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="695.5" y="23.5352">Attestor</text><rect fill="#FEFECE" filter="url(#f1usstaiw3khaw)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="688.5" y="1484.9785"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="695.5" y="1505.5137">Attestor</text><rect fill="#EEEEEE" filter="url(#f1usstaiw3khaw)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="778.5" x="3" y="69.1436"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="781.5" y1="69.1436" y2="69.1436"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="781.5" y1="72.1436" y2="72.1436"/><rect fill="#EEEEEE" filter="url(#f1usstaiw3khaw)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="103" x="340.75" y="58.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="346.75" y="75.0566">Precondition</text><polygon fill="#A80036" points="113,124.4199,123,128.4199,113,132.4199,117,128.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="119" y1="128.4199" y2="128.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="10" y="108.3672">received signed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="10" y="123.6777">data object</text><rect fill="#EEEEEE" filter="url(#f1usstaiw3khaw)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="778.5" x="3" y="185.0752"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="781.5" y1="185.0752" y2="185.0752"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="781.5" y1="188.0752" y2="188.0752"/><rect fill="#EEEEEE" filter="url(#f1usstaiw3khaw)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="180" x="302.25" y="174.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162" x="308.25" y="190.9883">Signed Data Verification</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="229.041" y2="229.041"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="229.041" y2="242.041"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="242.041" y2="242.041"/><polygon fill="#A80036" points="136,238.041,126,242.041,136,246.041,132,242.041" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="132" y="224.2988">decode token</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="271.3516" y2="271.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="271.3516" y2="284.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="284.3516" y2="284.3516"/><polygon fill="#A80036" points="136,280.3516,126,284.3516,136,288.3516,132,284.3516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="132" y="266.6094">check validity of token</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="328.9727" y2="328.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="328.9727" y2="341.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="341.9727" y2="341.9727"/><polygon fill="#A80036" points="136,337.9727,126,341.9727,136,345.9727,132,341.9727" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="132" y="308.9199">check validity of token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="132" y="324.2305">creator account</text><path d="M81,356.9727 L181,356.9727 L181,363.9727 L171,373.9727 L81,373.9727 L81,356.9727 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="177" x="81" y="356.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="96" y="370.541">optional</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="395.5938" y2="395.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="395.5938" y2="408.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="408.5938" y2="408.5938"/><polygon fill="#A80036" points="136,404.5938,126,408.5938,136,412.5938,132,408.5938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="132" y="390.8516">check signed data</text><rect fill="#EEEEEE" filter="url(#f1usstaiw3khaw)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="778.5" x="3" y="469.249"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="781.5" y1="469.249" y2="469.249"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="781.5" y1="472.249" y2="472.249"/><rect fill="#EEEEEE" filter="url(#f1usstaiw3khaw)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="178" x="303.25" y="458.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="309.25" y="475.1621">Trust Chain Verification</text><polygon fill="#A80036" points="421,524.5254,431,528.5254,421,532.5254,425,528.5254" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="427" y1="528.5254" y2="528.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="132" y="508.4727">get token creator account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="132" y="523.7832">data fields</text><path d="M51,568.5254 L125,568.5254 L125,575.5254 L115,585.5254 L51,585.5254 L51,568.5254 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="875.4531" style="stroke: #000000; stroke-width: 2.0;" width="720.5" x="51" y="568.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="66" y="582.0938">loop</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="622.457" y2="622.457"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="622.457" y2="635.457"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="635.457" y2="635.457"/><polygon fill="#A80036" points="136,631.457,126,635.457,136,639.457,132,635.457" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="132" y="602.4043">check formal validity of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="132" y="617.7148">data fields</text><path d="M81,650.457 L181,650.457 L181,657.457 L171,667.457 L81,667.457 L81,650.457 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="140" x="81" y="650.457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="96" y="664.0254">optional</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="689.0781" y2="689.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="689.0781" y2="702.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="702.0781" y2="702.0781"/><polygon fill="#A80036" points="136,698.0781,126,702.0781,136,706.0781,132,702.0781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="132" y="684.3359">check entity</text><path d="M61,724.0781 L123,724.0781 L123,731.0781 L113,741.0781 L61,741.0781 L61,724.0781 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="365.1055" style="stroke: #000000; stroke-width: 2.0;" width="637.5" x="61" y="724.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="76" y="737.6465">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="138" y="736.7129">[is signed data creator account]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="762.6992" y2="762.6992"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="762.6992" y2="775.6992"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="775.6992" y2="775.6992"/><polygon fill="#A80036" points="136,771.6992,126,775.6992,136,779.6992,132,775.6992" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="132" y="757.957">check if account state is active</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="61" x2="698.5" y1="784.6992" y2="784.6992"/><path d="M71,792.6992 L145,792.6992 L145,799.6992 L135,809.6992 L71,809.6992 L71,792.6992 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="247.1738" style="stroke: #000000; stroke-width: 2.0;" width="617.5" x="71" y="792.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="86" y="806.2676">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="220" x="160" y="805.334">[as long as account state is deprecated]</text><polygon fill="#A80036" points="582.5,827.3203,592.5,831.3203,582.5,835.3203,586.5,831.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="588.5" y1="831.3203" y2="831.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="132" y="826.5781">get data fields</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="860.6309" y2="860.6309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="860.6309" y2="873.6309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="873.6309" y2="873.6309"/><polygon fill="#A80036" points="136,869.6309,126,873.6309,136,877.6309,132,873.6309" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="132" y="855.8887">check formal validity of data fields</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="902.9414" y2="902.9414"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="902.9414" y2="915.9414"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="915.9414" y2="915.9414"/><polygon fill="#A80036" points="136,911.9414,126,915.9414,136,919.9414,132,915.9414" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="132" y="898.1992">check entity type</text><path d="M81,930.9414 L181,930.9414 L181,937.9414 L171,947.9414 L81,947.9414 L81,930.9414 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="140" x="81" y="930.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="96" y="944.5098">optional</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="969.5625" y2="969.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="969.5625" y2="982.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="982.5625" y2="982.5625"/><polygon fill="#A80036" points="136,978.5625,126,982.5625,136,986.5625,132,982.5625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="132" y="964.8203">check entity</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="1018.873" y2="1018.873"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="1018.873" y2="1031.873"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="1031.873" y2="1031.873"/><polygon fill="#A80036" points="136,1027.873,126,1031.873,136,1035.873,132,1031.873" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="132" y="1014.1309">treat new attested account as attested account</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="1068.1836" y2="1068.1836"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="1068.1836" y2="1081.1836"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="1081.1836" y2="1081.1836"/><polygon fill="#A80036" points="136,1077.1836,126,1081.1836,136,1085.1836,132,1081.1836" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="132" y="1063.4414">check if account state is active</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="1117.4941" y2="1117.4941"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="1117.4941" y2="1130.4941"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="1130.4941" y2="1130.4941"/><polygon fill="#A80036" points="136,1126.4941,126,1130.4941,136,1134.4941,132,1130.4941" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="132" y="1112.752">check if entity type is root</text><path d="M71,1145.4941 L133,1145.4941 L133,1152.4941 L123,1162.4941 L71,1162.4941 L71,1145.4941 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="219.8633" style="stroke: #000000; stroke-width: 2.0;" width="300" x="71" y="1145.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="86" y="1159.0625">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="148" y="1158.1289">[type is root]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="1184.1152" y2="1184.1152"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="1184.1152" y2="1197.1152"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="1197.1152" y2="1197.1152"/><polygon fill="#A80036" points="136,1193.1152,126,1197.1152,136,1201.1152,132,1197.1152" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="132" y="1179.373">check if account is known</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="1226.4258" y2="1226.4258"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="1226.4258" y2="1239.4258"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="1239.4258" y2="1239.4258"/><polygon fill="#A80036" points="136,1235.4258,126,1239.4258,136,1243.4258,132,1239.4258" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="132" y="1221.6836">check if property was self set</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="1268.7363" y2="1268.7363"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="1268.7363" y2="1281.7363"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="1281.7363" y2="1281.7363"/><polygon fill="#A80036" points="136,1277.7363,126,1281.7363,136,1285.7363,132,1281.7363" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="132" y="1263.9941">break loop and return success</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="71" x2="371" y1="1290.7363" y2="1290.7363"/><path d="M81,1298.7363 L143,1298.7363 L143,1305.7363 L133,1315.7363 L81,1315.7363 L81,1298.7363 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="280" x="81" y="1298.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="96" y="1312.3047">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="198" x="158" y="1311.3711">[is not signed data creator account]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="1337.3574" y2="1337.3574"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="1337.3574" y2="1350.3574"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="1350.3574" y2="1350.3574"/><polygon fill="#A80036" points="136,1346.3574,126,1350.3574,136,1354.3574,132,1350.3574" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="132" y="1332.6152">check if entity type is not leaf</text><polygon fill="#A80036" points="713,1389.668,723,1393.668,713,1397.668,717,1393.668" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="719" y1="1393.668" y2="1393.668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="132" y="1388.9258">get data fields</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="167" y1="1422.9785" y2="1422.9785"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="167" y1="1422.9785" y2="1435.9785"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="126" x2="167" y1="1435.9785" y2="1435.9785"/><polygon fill="#A80036" points="136,1431.9785,126,1435.9785,136,1439.9785,132,1435.9785" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="132" y="1418.2363">treat attestor as attested account</text><!--
@startuml


participant "Verifier" as VERI
participant "Attested Account" as ATTD
participant "New Attested Account" as NATTD
participant "Attestor" as ATTE


== Precondition ==

-> VERI: received signed\ndata object


...
== Signed Data Verification ==

VERI -> VERI: decode token
VERI -> VERI: check validity of token
VERI -> VERI: check validity of token\ncreator account

group optional
    VERI -> VERI: check signed data
end
|||


== Trust Chain Verification ==

VERI -> ATTD: get token creator account\ndata fields
|||

loop
    VERI -> VERI: check formal validity of\ndata fields

    group optional
        VERI -> VERI: check entity
    end

    alt is signed data creator account 
        VERI -> VERI: check if account state is active
    else
        loop as long as account state is deprecated
            VERI -> NATTD: get data fields
            VERI -> VERI: check formal validity of data fields
            VERI -> VERI: check entity type
            
            group optional
                VERI -> VERI: check entity
            end
            
            VERI -> VERI: treat new attested account as attested account
        end
        VERI -> VERI: check if account state is active
    end

    VERI -> VERI: check if entity type is root
    alt type is root
        VERI -> VERI: check if account is known
        VERI -> VERI: check if property was self set
        VERI -> VERI: break loop and return success
    else
        alt is not signed data creator account
            VERI -> VERI: check if entity type is not leaf
        end
    end
    VERI -> ATTE: get data fields
    VERI -> VERI: treat attestor as attested account
end
|||

@enduml

PlantUML version 1.2019.09(Mon Aug 26 18:19:51 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Mac OS X
OS Version: 10.15.2
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>